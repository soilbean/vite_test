import{_,r as m,o as r,c as d,a as t,w as l,s as f,e as n,b as h,p as w,g as L}from"./index-KTkBnGy7.js";const V={components:{},props:{},data(){return{formLogin:{username:"",password:""},typeView:0,isLoading:!1}},watch:{},computed:{isDisabled(){return!(this.formLogin.username&&this.formLogin.password)}},methods:{login(){this.$store.dispatch("store/login",this.formLogin).then(o=>{if(o)this.$store.state.store.useState=!0;else{console.log(Date.now()),window.localStorage.setItem("token",this.$store.state.store.token),this.$router.push("/"),this.$store.state.store.useState=!1;let e={isLogin:!0,name:this.formLogin.username};localStorage.setItem("userInfo",JSON.stringify(e)),this.$store.state.store.userInfo=e,console.log(e)}}).catch(o=>{console.log(o)})},changeLoginState(){this.$store.state.store.changeLoginState=!this.$store.state.store.changeLoginState}},created(){},mounted(){}},a=o=>(w("data-v-64c940a4"),o=o(),L(),o),S={class:"login"},k={key:0,class:"loginOne"},I=a(()=>n("h1",null,"登录",-1)),$=a(()=>n("span",null,"用户名:",-1)),y=a(()=>n("span",null,"密码:",-1)),b={key:1,class:"loginOne"},v=a(()=>n("h1",null,"注册",-1)),C=a(()=>n("span",null,"用户名:",-1)),N=a(()=>n("span",null,"密码:",-1)),U={key:0},B={key:1};function D(o,e,O,x,i,u){const p=m("el-input"),g=m("el-row"),c=m("el-button");return r(),d("div",S,[this.$store.state.store.changeLoginState?(r(),d("div",k,[I,t(g,null,{default:l(()=>[$,t(p,{modelValue:i.formLogin.username,"onUpdate:modelValue":e[0]||(e[0]=s=>i.formLogin.username=s)},null,8,["modelValue"])]),_:1}),t(g,null,{default:l(()=>[y,t(p,{modelValue:i.formLogin.password,"onUpdate:modelValue":e[1]||(e[1]=s=>i.formLogin.password=s),type:"password"},null,8,["modelValue"])]),_:1}),t(c,{disabled:u.isDisabled,loding:i.isLoading,onClick:f(u.login,["stop"])},{default:l(()=>[h("登录")]),_:1},8,["disabled","loding","onClick"])])):(r(),d("div",b,[v,t(g,null,{default:l(()=>[C,t(p,{modelValue:o.$store.state.username,"onUpdate:modelValue":e[2]||(e[2]=s=>o.$store.state.username=s)},null,8,["modelValue"])]),_:1}),t(g,null,{default:l(()=>[N,t(p,{modelValue:o.$store.state.password,"onUpdate:modelValue":e[3]||(e[3]=s=>o.$store.state.password=s),type:"password"},null,8,["modelValue"])]),_:1}),t(c,{onClick:e[4]||(e[4]=()=>{})},{default:l(()=>[h("注册")]),_:1})])),n("div",{class:"change",onClick:e[5]||(e[5]=(...s)=>u.changeLoginState&&u.changeLoginState(...s))},[this.$store.state.store.changeLoginState?(r(),d("p",U,"注册")):(r(),d("p",B,"登录"))])])}const J=_(V,[["render",D],["__scopeId","data-v-64c940a4"]]);export{J as default};
