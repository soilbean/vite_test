import{_ as S,i as a,j as z,o as i,c,e as r,F as d,f as m,n as x,k as w,t as C}from"./index-KTkBnGy7.js";const E={id:"app"},M={class:"waterfall"},b=["onClick"],B={__name:"pubuliu",setup(H){const s=a([]),h=a(200),u=a(10);function f(){const e=Math.floor(window.innerWidth/(h.value+u.value*2));console.log(e);for(let t=0;t<e;t++)s.value.push({id:t,items:[]});console.log(s.value),p(s.value)}function p(e){const t=[...Array(50).keys()].map(o=>({id:o,content:`Item:${o}`}));t.forEach((o,n)=>{const l=n%e.length,y=e[l],k=200+Math.random()*100;y.items.push({...o,height:k}),x(()=>{_(s.value)})}),console.log(t)}function _(e){const t=e.map(o=>{let n=0;return o.items.forEach(l=>{n+=l.height+u.value}),n});e.forEach((o,n)=>{const l=document.querySelector(`.column:nth-child(${n+1}) .item:last-child`);l&&(l.style.marginBottom=`${t[n]-l.offsetHeight}px`)})}function g(e){let t=document.querySelector(".fullSize");t.innerHTML=e.content,t.style.display="block"}function v(){let e=document.querySelector(".fullSize");e.style.display="none"}return z(()=>{window.addEventListener("resize",f())}),(e,t)=>(i(),c("div",E,[r("div",M,[(i(!0),c(d,null,m(s.value,o=>(i(),c("div",{class:"column",key:o.id},[(i(!0),c(d,null,m(o.items,n=>(i(),c("div",{class:"item",key:n.id,style:w({height:n.height+"px"}),onClick:l=>g(n)},C(n.content),13,b))),128))]))),128))]),r("div",{class:"fullSize",onClick:v})]))}},L=S(B,[["__scopeId","data-v-54b993ed"]]);export{L as default};
